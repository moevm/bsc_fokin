{% macro render_navigation(pagination, endpoint) %}
<div class="pagination">
	{% for page in pagination.iter_pages() %}
	{% if page %}
	{% if page != pagination.page %}
	<a class="btn btn-info mr-2" href="{{ url_for(endpoint, page=page) }}">{{ page }}</a>
	{% else %}
	<a class="btn btn-outline-info mr-2" href="{{ url_for(endpoint, page=page) }}">{{ page }}</a>
	{% endif %}
	{% else %}
	<a class="btn btn-outline-info disabled mr-2" href="">...</a>
	{% endif %}
	{% endfor %}
</div>
{% endmacro %}


{% macro render_comment_list(comment_list) %}
<div class="row">
	<div class="col-8">
		{% for comment in comment_list.items %}
		<div class="card border-secondary mb-3">
			<div class="row no-gutters">
				<div class="col-3">
					<img src="{{ comment.user.avatar_url }}" class="card-img-top">
					<div class="card-body">
						<p class="card-text">
							{{ comment.user.full_name }}
						</p>
						<ul class="list-group list-group-flush">
							<li class="list-group-item">{{ "%.2f" % (comment.user.courses[comment.course.stepic_id | string].score / comment.course.score * 100) }}%</li>
							<li class="list-group-item">
								<span class="badge badge-success">{{ comment.epic_count }}</span>
								<span class="badge badge-danger">{{ comment.abuse_count }}</span>
							</li>
							<li class="list-group-item">{{ comment.user.reputation }}</li>
							<li class="list-group-item">
								{% if comment.user.courses[comment.course.stepic_id | string].steps[comment.step_id | string].is_passed  %}
								<span class="badge badge-success">
								{% else %}
								<span class="badge badge-danger">
								{% endif %}
									{{ comment.user.courses[comment.course.stepic_id | string].steps[comment.step_id | string].total_submissions }}
								</span>
							</li>
						</ul>
					</div>
				</div>
				<div class="col-9">
					<div class="card-header">
						{{ comment.time | date('%d.%m.%Y %H:%M') }}
					</div>
					<div class="card-body">
						<p class="card-text">
							{{ comment.text | safe }}
						</p>
					</div>
				</div>
				<div class="card-footer">
					<a href="#" class="btn btn-outline-primary">Ссылка на обсуждение</a>
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
</div>
{% endmacro %}


{% macro render_comment_list_filter() %}
<div class="">
	ТоDo: Фильтрация
	<a class="btn btn-warning mr-2" href="{{ url_for('main.update_comments') }}">Обновить</a>
</div>
{% endmacro %}
